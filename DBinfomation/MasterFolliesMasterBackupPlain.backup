--
-- PostgreSQL database dump
--

-- Dumped from database version 9.2.2
-- Dumped by pg_dump version 9.2.2
-- Started on 2013-02-06 11:30:41 CST

SET statement_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SET check_function_bodies = false;
SET client_min_messages = warning;

--
-- TOC entry 178 (class 3079 OID 11995)
-- Name: plpgsql; Type: EXTENSION; Schema: -; Owner: 
--

CREATE EXTENSION IF NOT EXISTS plpgsql WITH SCHEMA pg_catalog;


--
-- TOC entry 2249 (class 0 OID 0)
-- Dependencies: 178
-- Name: EXTENSION plpgsql; Type: COMMENT; Schema: -; Owner: 
--

COMMENT ON EXTENSION plpgsql IS 'PL/pgSQL procedural language';


SET search_path = public, pg_catalog;

--
-- TOC entry 191 (class 1255 OID 16828)
-- Name: batch_insert(integer); Type: FUNCTION; Schema: public; Owner: postgres
--

CREATE FUNCTION batch_insert(judge_id integer) RETURNS void
    LANGUAGE sql
    AS $_$insert into results (judge_id, club_id, question_id, points, notes)
select $1 as judge_id, c.id as club_id,q.id as question_id,0 as points, null as notes
from questions q
cross join club_names c$_$;


ALTER FUNCTION public.batch_insert(judge_id integer) OWNER TO postgres;

SET default_tablespace = '';

SET default_with_oids = false;

--
-- TOC entry 168 (class 1259 OID 16756)
-- Name: club_names; Type: TABLE; Schema: public; Owner: postgres; Tablespace: 
--

CREATE TABLE club_names (
    id integer NOT NULL,
    club_name text NOT NULL,
    girl boolean DEFAULT true
);


ALTER TABLE public.club_names OWNER TO postgres;

--
-- TOC entry 169 (class 1259 OID 16762)
-- Name: clubnames_ID_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE "clubnames_ID_seq"
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public."clubnames_ID_seq" OWNER TO postgres;

--
-- TOC entry 2250 (class 0 OID 0)
-- Dependencies: 169
-- Name: clubnames_ID_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE "clubnames_ID_seq" OWNED BY club_names.id;


--
-- TOC entry 170 (class 1259 OID 16764)
-- Name: judges; Type: TABLE; Schema: public; Owner: postgres; Tablespace: 
--

CREATE TABLE judges (
    id integer NOT NULL,
    first_name text NOT NULL,
    last_name text NOT NULL,
    user_name text NOT NULL,
    password text NOT NULL,
    is_super boolean
);


ALTER TABLE public.judges OWNER TO postgres;

--
-- TOC entry 171 (class 1259 OID 16770)
-- Name: judges_ID_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE "judges_ID_seq"
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public."judges_ID_seq" OWNER TO postgres;

--
-- TOC entry 2251 (class 0 OID 0)
-- Dependencies: 171
-- Name: judges_ID_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE "judges_ID_seq" OWNED BY judges.id;


--
-- TOC entry 172 (class 1259 OID 16772)
-- Name: questions; Type: TABLE; Schema: public; Owner: postgres; Tablespace: 
--

CREATE TABLE questions (
    id integer NOT NULL,
    question text NOT NULL,
    "desc" text
);


ALTER TABLE public.questions OWNER TO postgres;

--
-- TOC entry 173 (class 1259 OID 16778)
-- Name: questions_ID_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE "questions_ID_seq"
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public."questions_ID_seq" OWNER TO postgres;

--
-- TOC entry 2252 (class 0 OID 0)
-- Dependencies: 173
-- Name: questions_ID_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE "questions_ID_seq" OWNED BY questions.id;


--
-- TOC entry 174 (class 1259 OID 16780)
-- Name: rank; Type: TABLE; Schema: public; Owner: postgres; Tablespace: 
--

CREATE TABLE rank (
    judge_id integer NOT NULL,
    club_id integer NOT NULL,
    rank integer,
    id integer NOT NULL
);


ALTER TABLE public.rank OWNER TO postgres;

--
-- TOC entry 2253 (class 0 OID 0)
-- Dependencies: 174
-- Name: COLUMN rank.club_id; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN rank.club_id IS '
';


--
-- TOC entry 175 (class 1259 OID 16783)
-- Name: rank_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE rank_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.rank_id_seq OWNER TO postgres;

--
-- TOC entry 2254 (class 0 OID 0)
-- Dependencies: 175
-- Name: rank_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE rank_id_seq OWNED BY rank.id;


--
-- TOC entry 176 (class 1259 OID 16785)
-- Name: results; Type: TABLE; Schema: public; Owner: postgres; Tablespace: 
--

CREATE TABLE results (
    id integer NOT NULL,
    judge_id integer NOT NULL,
    club_id integer NOT NULL,
    question_id integer NOT NULL,
    points integer,
    notes text
);


ALTER TABLE public.results OWNER TO postgres;

--
-- TOC entry 177 (class 1259 OID 16791)
-- Name: results_ID_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE "results_ID_seq"
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public."results_ID_seq" OWNER TO postgres;

--
-- TOC entry 2255 (class 0 OID 0)
-- Dependencies: 177
-- Name: results_ID_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: postgres
--

ALTER SEQUENCE "results_ID_seq" OWNED BY results.id;


--
-- TOC entry 2211 (class 2604 OID 16793)
-- Name: id; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY club_names ALTER COLUMN id SET DEFAULT nextval('"clubnames_ID_seq"'::regclass);


--
-- TOC entry 2213 (class 2604 OID 16794)
-- Name: id; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY judges ALTER COLUMN id SET DEFAULT nextval('"judges_ID_seq"'::regclass);


--
-- TOC entry 2214 (class 2604 OID 16795)
-- Name: id; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY questions ALTER COLUMN id SET DEFAULT nextval('"questions_ID_seq"'::regclass);


--
-- TOC entry 2215 (class 2604 OID 16796)
-- Name: id; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY rank ALTER COLUMN id SET DEFAULT nextval('rank_id_seq'::regclass);


--
-- TOC entry 2216 (class 2604 OID 16797)
-- Name: id; Type: DEFAULT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY results ALTER COLUMN id SET DEFAULT nextval('"results_ID_seq"'::regclass);


--
-- TOC entry 2232 (class 0 OID 16756)
-- Dependencies: 168
-- Data for Name: club_names; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY club_names (id, club_name, girl) FROM stdin;
5	Alpha Chi Delta	f
6	Koinonia	f
7	Kyodai	f
8	Sub T-16	f
1	Christliche Damen	t
2	Kappa Phi Kappa	t
3	Lambda Omega Alpha	t
4	Zeta Gamma	t
\.


--
-- TOC entry 2256 (class 0 OID 0)
-- Dependencies: 169
-- Name: clubnames_ID_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('"clubnames_ID_seq"', 46, true);


--
-- TOC entry 2234 (class 0 OID 16764)
-- Dependencies: 170
-- Data for Name: judges; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY judges (id, first_name, last_name, user_name, password, is_super) FROM stdin;
4	Second	Last	SL	test	\N
1	First	Last	FL	test	\N
\.


--
-- TOC entry 2257 (class 0 OID 0)
-- Dependencies: 171
-- Name: judges_ID_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('"judges_ID_seq"', 61, true);


--
-- TOC entry 2236 (class 0 OID 16772)
-- Dependencies: 172
-- Data for Name: questions; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY questions (id, question, "desc") FROM stdin;
1	Costumes / Makeup	<ul>\r\n<li>Concept</li>\r\n<li>Design</li>\r\n<li>Function</li>\r\n</ul>
2	Vocal Expression	<ul>\r\n<li>Diction / clarity</li>\r\n<li>Dynamics</li>\r\n<li>Quality</li>\r\n</ul>
3	Staging / Choreography	<ul>\r\n<li>Precision</li>\r\n<li>Variety</li>\r\n<li>Use of stage</li>\r\n<li>Synchronization</li>\r\n<li>Facial expressions</li>\r\n</ul>
4	Storyline / Dramatic Elements	<ul>\r\n<li>Clear plotline</li>\r\n<li>Characterization</li>\r\n<li>Cohesive storyline</li>\r\n<li>Logical conclusion and climax</li>\r\n</ul>
5	Special Effects	<ul>\r\n<li>Use of props</li>\r\n<li>Backdrop and Video</li>\r\n<li>Quality of recorded audio</li>\r\n<li>Lighting</li>\r\n</ul>
\.


--
-- TOC entry 2258 (class 0 OID 0)
-- Dependencies: 173
-- Name: questions_ID_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('"questions_ID_seq"', 5, true);


--
-- TOC entry 2238 (class 0 OID 16780)
-- Dependencies: 174
-- Data for Name: rank; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY rank (judge_id, club_id, rank, id) FROM stdin;
\.


--
-- TOC entry 2259 (class 0 OID 0)
-- Dependencies: 175
-- Name: rank_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('rank_id_seq', 1, false);


--
-- TOC entry 2240 (class 0 OID 16785)
-- Dependencies: 176
-- Data for Name: results; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY results (id, judge_id, club_id, question_id, points, notes) FROM stdin;
115	1	3	3	4	this is loa
148	4	2	1	0	\N
149	4	2	2	0	\N
150	4	2	3	0	\N
151	4	2	4	0	\N
152	4	2	5	0	\N
153	4	3	1	0	\N
154	4	3	2	0	\N
155	4	3	3	0	\N
156	4	3	4	0	\N
157	4	3	5	0	\N
158	4	4	1	0	\N
159	4	4	2	0	\N
160	4	4	3	0	\N
161	4	4	4	0	\N
162	4	4	5	0	\N
173	4	6	1	0	\N
174	4	6	2	0	\N
175	4	6	3	0	\N
176	4	6	4	0	\N
177	4	6	5	0	\N
124	1	1	2	9	\N
125	1	1	3	9	\N
127	1	1	5	9	test in special effects
123	1	1	1	9	\N
126	1	1	4	9	\N
166	4	1	4	10	\N
164	4	1	2	10	\N
165	4	1	3	10	\N
167	4	1	5	10	\N
163	4	1	1	10	\N
171	4	5	4	10	\N
170	4	5	3	10	\N
169	4	5	2	10	\N
172	4	5	5	10	\N
168	4	5	1	10	\N
108	1	2	1	0	\N
109	1	2	2	0	\N
112	1	2	5	0	\N
113	1	3	1	0	\N
114	1	3	2	0	\N
116	1	3	4	0	\N
117	1	3	5	0	\N
118	1	4	1	0	\N
119	1	4	2	0	\N
120	1	4	3	0	\N
121	1	4	4	0	\N
122	1	4	5	0	\N
128	1	5	1	0	\N
129	1	5	2	0	\N
130	1	5	3	0	\N
131	1	5	4	0	\N
132	1	5	5	0	\N
133	1	6	1	0	\N
134	1	6	2	0	\N
135	1	6	3	0	\N
136	1	6	4	0	\N
137	1	6	5	0	\N
138	1	7	1	0	\N
139	1	7	2	0	\N
140	1	7	3	0	\N
141	1	7	4	0	\N
142	1	7	5	0	\N
143	1	8	1	0	\N
144	1	8	2	0	\N
145	1	8	3	0	\N
146	1	8	4	0	\N
147	1	8	5	0	\N
186	4	8	4	5	\N
184	4	8	2	5	\N
185	4	8	3	5	\N
183	4	8	1	5	\N
187	4	8	5	5	\N
182	4	7	5	6	\N
181	4	7	4	6	\N
179	4	7	2	6	\N
180	4	7	3	6	\N
178	4	7	1	6	\N
111	1	2	4	2	change to kappa in storyline
110	1	2	3	1	this is kappa
\.


--
-- TOC entry 2260 (class 0 OID 0)
-- Dependencies: 177
-- Name: results_ID_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('"results_ID_seq"', 187, true);


--
-- TOC entry 2218 (class 2606 OID 16799)
-- Name: clubnames_ID_key; Type: CONSTRAINT; Schema: public; Owner: postgres; Tablespace: 
--

ALTER TABLE ONLY club_names
    ADD CONSTRAINT "clubnames_ID_key" PRIMARY KEY (id);


--
-- TOC entry 2226 (class 2606 OID 16801)
-- Name: judge_club_question_unique; Type: CONSTRAINT; Schema: public; Owner: postgres; Tablespace: 
--

ALTER TABLE ONLY results
    ADD CONSTRAINT judge_club_question_unique UNIQUE (judge_id, club_id, question_id);


--
-- TOC entry 2220 (class 2606 OID 16803)
-- Name: judges_Username_key; Type: CONSTRAINT; Schema: public; Owner: postgres; Tablespace: 
--

ALTER TABLE ONLY judges
    ADD CONSTRAINT "judges_Username_key" UNIQUE (user_name);


--
-- TOC entry 2222 (class 2606 OID 16805)
-- Name: judges_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres; Tablespace: 
--

ALTER TABLE ONLY judges
    ADD CONSTRAINT judges_pkey PRIMARY KEY (id);


--
-- TOC entry 2224 (class 2606 OID 16807)
-- Name: questions_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres; Tablespace: 
--

ALTER TABLE ONLY questions
    ADD CONSTRAINT questions_pkey PRIMARY KEY (id);


--
-- TOC entry 2228 (class 2606 OID 16809)
-- Name: serial_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres; Tablespace: 
--

ALTER TABLE ONLY results
    ADD CONSTRAINT serial_pkey PRIMARY KEY (id);


--
-- TOC entry 2229 (class 2606 OID 16810)
-- Name: club_id_as_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY rank
    ADD CONSTRAINT club_id_as_fkey FOREIGN KEY (club_id) REFERENCES club_names(id) MATCH FULL;


--
-- TOC entry 2231 (class 2606 OID 16815)
-- Name: fk_judges_id; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY results
    ADD CONSTRAINT fk_judges_id FOREIGN KEY (judge_id) REFERENCES judges(id);


--
-- TOC entry 2230 (class 2606 OID 16820)
-- Name: judge_id_as_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY rank
    ADD CONSTRAINT judge_id_as_fkey FOREIGN KEY (judge_id) REFERENCES judges(id) MATCH FULL;


--
-- TOC entry 2248 (class 0 OID 0)
-- Dependencies: 6
-- Name: public; Type: ACL; Schema: -; Owner: postgres
--

REVOKE ALL ON SCHEMA public FROM PUBLIC;
REVOKE ALL ON SCHEMA public FROM postgres;
GRANT ALL ON SCHEMA public TO postgres;
GRANT ALL ON SCHEMA public TO PUBLIC;


-- Completed on 2013-02-06 11:30:41 CST

--
-- PostgreSQL database dump complete
--

